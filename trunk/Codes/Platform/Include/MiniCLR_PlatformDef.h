////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) Microsoft Corporation.  All rights reserved.
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ifndef _MINICLR_PLATFORMDEF_H_
#define _MINICLR_PLATFORMDEF_H_

////////////////////////////////////////////////////////////////////////////////////////////////////
// PLATFORMS GENERAL DEFINITIONS
#if defined(_WIN32) || defined(WIN32)
#define PLATFORM_WINDOWS
#define MINICLR_STOP() ::DebugBreak()
#pragma warning( error : 4706 ) // error C4706: assignment within conditional expression
#elif defined(arm) || defined(__arm) || defined(__GNUC__)
#define PLATFORM_ARM
#define MINICLR_STOP() HARD_BREAKPOINT()
#endif

#if !defined(PLATFORM_WINDOWS) 
#if defined(LITTLE_ENDIAN)
#define MINICLR_LITTLE_ENDIAN 1
#elif defined(BIG_ENDIAN)
#define MINICLR_BIG_ENDIAN    1
#else
!ERROR
#endif
#endif

////////////////////////////////////////////////////////////////////////////////////////////////////
// DEFINITIONS
#define MINICLR_MAX_ASSEMBLY_NAME 128

////////////////////////////////////////////////////////////////////////////////////////////////////
// FEATURES


//-o-//-o-//-o-//-o-//-o-//-o-//
// PLATFORMS
//-o-//-o-//-o-//-o-//-o-//-o-//

////////////////////////////////////////////////////////////////////////////////////////////////////
// WINDOWS


////////////////////////////////////////////////////////////////////////////////////////////////////
// ARM



////////////////////////////////////////////////////////////////////////////////////////////////////
// INCLUDES
#if defined(PLATFORM_WINDOWS)
//Unsafe string functions be avoided, but there isn't a safe crt for the arm, so 
//a bunch of macros, cleanup code needs to be done first

#include <windows.h>


#else

#include <tinyhal_types.h>

#include <stdarg.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#ifndef MAKE_HRESULT
#define MAKE_HRESULT(sev,fac,code) \
      ((HRESULT) (((unsigned long)(sev)<<31) | ((unsigned long)(fac)<<16) | ((unsigned long)(code))) )
#endif

#ifndef SEVERITY_SUCCESS
#define SEVERITY_SUCCESS    0
#endif

#ifndef SEVERITY_ERROR
#define SEVERITY_ERROR      1
#endif

#endif

#endif // _MINICLR_PLATFORMDEF_H_

